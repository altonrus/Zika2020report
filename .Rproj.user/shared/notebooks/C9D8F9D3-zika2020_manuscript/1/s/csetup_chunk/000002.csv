"0","library(data.table)"
"2","Registered S3 method overwritten by 'data.table':
  method           from
  print.data.table     
"
"2","data.table 1.12.8 using 2 threads (see ?getDTthreads).  Latest news: r-datatable.com
"
"0","library(ggplot2)"
"0","library(gridExtra)"
"0",""
"0","theme_set(theme_bw())"
"0",""
"0","#setwd(""G:/My Drive/Blood Transfusion/Zika simulation/Threshold psa"")"
"0",""
"0","dt <- fread('G:/My Drive/Blood Transfusion/Zika/Zika2020report/threshold_PSA_2020_combined.csv')"
"0","prev_levels <- exp(seq(log(1e-8), log(1e-2), length.out = 13))"
"0",""
"0","dt.FLS <- melt(dt[ , paste0(""flulike"", 0:12)], measure.vars = paste0(""flulike"", 0:12))"
"0","dt.FLS[ , prev_num := as.numeric(substr(variable,8, nchar(as.character(variable))))]"
"0","dt.FLS[ , prevalence := prev_levels[prev_num+1]]"
"0",""
"0","dt.CZS <- melt(dt[ , paste0(""CZS"", 0:12)], measure.vars = paste0(""CZS"", 0:12))"
"0","dt.CZS[ , prev_num := as.numeric(substr(variable,4, nchar(as.character(variable))))]"
"0","dt.CZS[ , prevalence := prev_levels[prev_num+1]]"
"0",""
"0","dt.GBS <- melt(dt[ , paste0(""GBS"", 0:12)], measure.vars = paste0(""GBS"", 0:12))"
"0","dt.GBS[ , prev_num := as.numeric(substr(variable,4, nchar(as.character(variable))))]"
"0","dt.GBS[ , prevalence := prev_levels[prev_num+1]]"
"0",""
"0","# dt[, totCost := costRecip0 + "
"0","#      costInfant0 + costPartner0 + costPartnerInfant0 + costProductivity0]"
"0",""
"0",""
"0",""
"0","# NS_cost_quants <- data.table("
"0","#   cbind("
"0","#     rbind("
"0","#       dt[ , quantile(totCost_NS, probs = c(.005, .025, .1, .5, .9, .975, .995)) , by = Prevalence],"
"0","#       dt[ , mean(totCost_NS), by = Prevalence]),"
"0","#     c("
"0","#       rep(c(""lower_99"", ""lower_95"", ""lower_80"", ""Median"", ""upper_80"", ""upper_95"", ""upper_99""), 13),"
"0","#       rep(""mean"", 13))))"
"0","# colnames(NS_cost_quants) <- c(""Prevalence"", ""Tot_cost"", ""Quantity"")"
"0","# "
"0","# NS_cost_quants <- dcast(NS_cost_quants, Prevalence ~ Quantity, value.var = ""Tot_cost"")"
"0","# "
"0","# ggplot(NS_cost_quants, aes(x = Prevalence))  + "
"0","#   geom_ribbon(aes(ymin = lower_99, ymax = upper_99), alpha = 0.3) + "
"0","#   geom_ribbon(aes(ymin = lower_95, ymax = upper_95), alpha = 0.3) + "
"0","#   geom_ribbon(aes(ymin = lower_80, ymax = upper_80), alpha = 0.3) + "
"0","#   geom_line(aes(y = mean)) +"
"0","#   ylab(""Total cost"") +"
"0","#   scale_y_continuous(trans = ""log10"") +"
"0","#   scale_x_continuous(name = ""ZIKV-infectious donations per million donations"","
"0","#                      trans = ""log10"","
"0","#                      breaks = c(1e-8, 1e-7, 1e-6, 1e-5, 1e-4, 1e-3, 1e-2))"
"0","#   "
"0","#   "
"0",""
